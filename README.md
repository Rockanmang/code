# 文档使用说明

## 📚 文档概览

本目录包含了AI驱动协同文献管理系统的完整技术文档，专门为前端开发团队设计。

## 📋 文档清单

### 1. [API文档.md](./API文档.md)
**用途**: 完整的API接口文档  
**内容**: 
- 38个API端点的详细说明（基础16个 + 高级22个）
- 完整的认证、文献管理、AI助手功能
- 新增：文献高级管理、对话管理、缓存管理、管理员功能
- 请求/响应格式、认证方式、错误处理
- 数据模型定义

**适用人员**: 所有前端开发人员



### 2. [API_Postman_Collection.json](./API_Postman_Collection.json)
**用途**: Postman测试集合  
**内容**:
- 38个API的完整测试用例
- 8个功能模块的分组测试
- 自动变量设置（新增session_id、turn_id）
- 错误场景测试
- 高级功能测试用例

**使用方法**: 
1. 在Postman中导入此文件
2. 设置环境变量`base_url`为`http://localhost:8000`
3. 运行测试集合

## 🚀 快速开始

### 1. 查看API文档
建议按以下顺序阅读：
1. **基础功能**：认证系统、用户管理、研究组管理
2. **核心功能**：文献管理、AI助手
3. **高级功能**：文献高级管理、对话管理
4. **管理功能**：缓存管理、管理员功能
5. **系统监控**：健康检查、统计信息

### 2. 使用Postman测试
```bash
# 导入Postman集合
1. 打开Postman
2. 点击Import
3. 选择API_Postman_Collection.json文件
4. 设置环境变量base_url为后端地址
5. 按模块顺序测试API
```

### 3. 前端开发
```bash
# 参考前端开发指南中的代码示例
# 推荐实现顺序：
1. 用户认证（登录/注册）
2. 研究组管理
3. 基础文献管理（上传/查看/下载）
4. AI问答功能
5. 文献高级管理（删除/恢复/统计）
6. 对话历史管理
7. 管理员功能（可选）
```

## 🔧 环境要求

### 后端服务
- Python FastAPI服务器运行在 `http://localhost:8000`
- 已配置AI API密钥（OpenAI/Google Gemini）
- 数据库已初始化（SQLite/PostgreSQL）
- 向量数据库已配置（用于AI功能）

### 前端开发
- Node.js 16+
- 支持现代浏览器（Chrome 90+, Firefox 88+, Safari 14+）
- 推荐使用React 18+ 或 Vue 3+

## 📞 技术支持

### 测试数据
系统已创建测试用户：
- **手机号**: 13800000001
- **用户名**: testuser  
- **密码**: testpass123

### 功能模块说明

1. **认证系统** (4个API)
   - 支持手机号和用户名双模式登录
   - JWT令牌自动刷新机制

2. **用户管理** (2个API)
   - 用户信息查询
   - 研究组关系管理

3. **研究组管理** (2个API)
   - 创建和加入研究组
   - 邀请码机制

4. **基础文献管理** (5个API)
   - 文献上传、查看、下载
   - 权限控制和文件验证

5. **文献高级管理** (4个API)
   - 软删除和恢复机制
   - 回收站管理
   - 统计信息仪表板

6. **AI助手** (2个API)
   - 基于RAG的智能问答
   - 预设问题推荐

7. **对话管理** (4个API)
   - 会话历史追踪
   - 用户反馈系统
   - 对话质量评估

8. **缓存管理** (8个API)
   - 缓存状态监控
   - 性能优化工具
   - 自动清理机制

9. **管理员功能** (3个API)
   - 存储空间管理
   - 系统统计监控
   - AI服务分析

10. **系统健康** (4个API)
    - 多层级健康检查
    - 服务状态监控
    - 性能指标追踪

### 常见问题

1. **CORS错误**
   - 确保后端已启用CORS
   - 开发环境可配置代理

2. **认证失败**
   - 优先使用手机号登录
   - 检查token设置和过期时间

3. **文件上传失败**
   - 检查文件大小(<50MB)
   - 确认文件类型支持(PDF/Word)

4. **AI功能不可用**
   - 检查AI服务配置
   - 确认向量数据库连接

5. **缓存问题**
   - 使用缓存管理接口清理
   - 检查内存使用情况

### 联系方式
如有API相关问题，请联系后端开发团队或查看系统日志。

## 📝 版本信息

- **文档版本**: v1.0
- **API版本**: v1.0  
- **API总数**: 38个（基础16个 + 高级22个）
- **最后更新**: 2025年5月28日
- **兼容性**: 支持手机号登录 + 传统用户名登录兼容

## 🔄 更新日志

### v1.0 (2025-05-28)
- ✅ 完成手机号登录系统集成
- ✅ 创建完整API文档（38个端点）
- ✅ 提供前端开发指南（包含所有功能组件）
- ✅ 包含Postman测试集合（完整测试覆盖）
- ✅ 向后兼容传统登录方式
- ✅ 新增文献高级管理功能
- ✅ 新增对话管理系统
- ✅ 新增缓存管理工具
- ✅ 新增管理员控制台
- ✅ 完善错误处理和监控体系

## 🎯 开发路线图

### 已完成 ✅
- [x] 基础API文档
- [x] 认证系统
- [x] 文献管理
- [x] AI问答系统
- [x] 高级管理功能
- [x] 缓存优化
- [x] 监控仪表板

### 计划中 🚧
- [ ] 实时通知系统
- [ ] 批量操作功能
- [ ] 数据导出功能
- [ ] 多语言支持
- [ ] 移动端适配优化

这套文档为前端团队提供了完整的开发支持，从基础功能到高级管理，从API调用到组件实现，确保开发过程高效顺畅。 